(function(e){function t(t){for(var o,c,r=t[0],a=t[1],d=t[2],O=0,b=[];O<r.length;O++)c=r[O],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&b.push(i[c][0]),i[c]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);l&&l(t);while(b.length)b.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],o=!0,r=1;r<s.length;r++){var a=s[r];0!==i[a]&&(o=!1)}o&&(n.splice(t--,1),e=c(c.s=s[0]))}return e}var o={},i={app:0},n=[];function c(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=e,c.c=o,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(s,o,function(t){return e[t]}.bind(null,o));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var l=a;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0160":function(e,t,s){},"15b7":function(e,t,s){"use strict";s("d99f")},"1a5e":function(e,t,s){"use strict";s("3e31")},"3e31":function(e,t,s){},5531:function(e){e.exports=JSON.parse('[{"id":1,"parentId":null,"name":"Leanne Graham"},{"id":2,"parentId":null,"name":"Ervin Howell"},{"id":3,"parentId":null,"name":"Clementine Bauch"},{"id":4,"parentId":null,"name":"Patricia Lebsack"},{"id":5,"parentId":1,"name":"Chelsey Dietrich"},{"id":6,"parentId":5,"name":"Mrs. Dennis Schulist"},{"id":7,"parentId":6,"name":"Kurtis Weissnat"},{"id":8,"parentId":2,"name":"Nicholas Runolfsdottir V"},{"id":9,"parentId":3,"name":"Glenna Reichert"},{"id":10,"parentId":9,"name":"Clementina DuBuque"}]')},"56d7":function(e,t,s){"use strict";s.r(t);var o=s("7a23");const i={class:"app-contain"};function n(e,t,s,n,c,r){const a=Object(o["q"])("Navbar"),d=Object(o["q"])("UserList"),l=Object(o["q"])("PostsView"),O=Object(o["q"])("clip-loader");return Object(o["l"])(),Object(o["e"])("div",null,[Object(o["h"])(a),Object(o["f"])("div",i,[Object(o["h"])(d),Object(o["h"])(l),Object(o["h"])(O,{loading:e.loading,color:c.color,size:c.size},null,8,["loading","color","size"])])])}var c=s("5502"),r=s("da7a");const a={class:"user-list",id:"userList"},d=Object(o["f"])("h4",{class:"head"},"user list",-1);function l(e,t,s,i,n,c){const r=Object(o["q"])("tree");return Object(o["l"])(),Object(o["e"])("div",a,[d,Object(o["h"])(r,{"tree-data":n.userList},null,8,["tree-data"])])}var O=s("5531");const b={class:"tree"},p={class:"tree-list"};function u(e,t,s,i,n,c){const r=Object(o["q"])("node-tree");return Object(o["l"])(),Object(o["e"])("div",b,[Object(o["f"])("ul",p,[(Object(o["l"])(!0),Object(o["e"])(o["a"],null,Object(o["p"])(s.treeData,(e,t)=>(Object(o["l"])(),Object(o["c"])(r,{key:t,node:e},null,8,["node"]))),128))])])}const j={class:"node-tree"},f={key:0},v={key:1};function h(e,t,s,i,n,c){const r=Object(o["q"])("node");return Object(o["l"])(),Object(o["e"])("li",j,[s.node.children.length>0?(Object(o["l"])(),Object(o["e"])("span",{key:0,class:"open-record",onClick:t[0]||(t[0]=Object(o["w"])(e=>n.active=!n.active,["stop"]))},[n.active?(Object(o["l"])(),Object(o["e"])("span",f,"-")):(Object(o["l"])(),Object(o["e"])("span",v,"+"))])):Object(o["d"])("",!0),Object(o["f"])("span",{class:"label",onClick:t[1]||(t[1]=e=>c.getUserPosts(s.node.id))},Object(o["r"])(s.node.name),1),s.node.children&&s.node.children.length?(Object(o["l"])(),Object(o["e"])("ul",{key:1,class:Object(o["j"])(n.active?"d-block":"d-none")},[(Object(o["l"])(!0),Object(o["e"])(o["a"],null,Object(o["p"])(s.node.children,(e,t)=>(Object(o["l"])(),Object(o["c"])(r,{key:t,node:e},null,8,["node"]))),128))],2)):Object(o["d"])("",!0)])}var m={name:"node",props:{node:Object},data(){return{active:!1}},methods:{getUserPosts(e){this.$store.dispatch("fetchUsersPosts",e)}}},T=(s("6364"),s("6b0d")),S=s.n(T);const _=S()(m,[["render",h],["__scopeId","data-v-4a350f65"]]);var E=_,w={props:["treeData"],components:{NodeTree:E}};s("1a5e");const g=S()(w,[["render",u],["__scopeId","data-v-3a27ffe8"]]);var P=g,y={name:"UserList",components:{Tree:P},data(){return{userList:O}},methods:{list_to_tree(e){e.forEach(e=>{e.children=[]});var t,s,o={},i=[];for(s=0;s<e.length;s+=1)o[e[s].id]=s;for(s=0;s<e.length;s+=1)t=e[s],t.parentId?e[o[t.parentId]].children.push(t):i.push(t);return i}},created(){this.$store.dispatch("initialPostsUsersList",this.userList),this.userList=this.list_to_tree(this.userList)}};const L=S()(y,[["render",l]]);var I=L;function U(e,t,s,i,n,c){const r=Object(o["q"])("Index"),a=Object(o["q"])("Detail"),d=Object(o["q"])("Edit");return"view"==e.viewMode?(Object(o["l"])(),Object(o["c"])(r,{key:0})):"detail"==e.viewMode?(Object(o["l"])(),Object(o["c"])(a,{key:1})):"edit"==e.viewMode?(Object(o["l"])(),Object(o["c"])(d,{key:2})):Object(o["d"])("",!0)}const D={class:"posts-view"},k={key:0,class:"view-head"},M={class:"posts-contain"},V={class:"card-body"},C={class:"post-title"},A={class:"btn-group"},R=["onClick"],x=["onClick"],W=["onClick"];function H(e,t,s,i,n,c){return Object(o["l"])(),Object(o["e"])("div",D,[""!=e.postsSingleUserList.name?(Object(o["l"])(),Object(o["e"])("div",k,[Object(o["f"])("div",null,Object(o["r"])(e.postsSingleUserList.name)+" Posts ",1)])):Object(o["d"])("",!0),Object(o["f"])("div",M,[(Object(o["l"])(!0),Object(o["e"])(o["a"],null,Object(o["p"])(e.postsSingleUserList.posts,(e,t)=>(Object(o["l"])(),Object(o["e"])("div",{class:"post-card",key:t},[Object(o["f"])("div",V,[Object(o["f"])("div",C,Object(o["r"])(e.title),1)]),Object(o["f"])("div",A,[Object(o["f"])("button",{onClick:Object(o["w"])(t=>c.changeToDetailMode(e.id),["prevent"]),class:"detail"},"detail",8,R),Object(o["f"])("button",{onClick:t=>c.getEditPost(e.id),class:"edit"},"edit",8,x),Object(o["f"])("button",{onClick:Object(o["w"])(t=>c.removePostFromState(e.id),["prevent"]),class:"remove"},"remove",8,W)])]))),128))])])}var $={name:"Index",data(){return{searchInput:""}},methods:{async changeToDetailMode(e){await this.$store.dispatch("getPostToShow",e),await this.$store.dispatch("setViewMode","detail")},async removePostFromState(e){this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{this.$store.dispatch("removePostFromState",e),t.isConfirmed&&this.$swal.fire("Deleted!","Your file has been deleted.","success")})},getEditPost(e){this.$store.dispatch("getEditPost",e)}},computed:{...Object(c["b"])(["postsSingleUserList","viewMode","postToView"])}};const B=S()($,[["render",H]]);var q=B;const F={class:"posts-view"},N={key:0,class:"view-head"},Y={class:"posts-contain edit-contain"},z=Object(o["f"])("strong",null,"Title",-1),G=Object(o["f"])("strong",null,"Body",-1),J={class:"edit-bottom"};function K(e,t,s,i,n,c){return Object(o["l"])(),Object(o["e"])("div",F,[e.postToView?(Object(o["l"])(),Object(o["e"])("div",N,[Object(o["f"])("div",null,"post "+Object(o["r"])(e.postToView.id)+" details",1)])):Object(o["d"])("",!0),Object(o["f"])("div",Y,[Object(o["f"])("div",null,[z,Object(o["g"])(" : "+Object(o["r"])(e.postToView.title),1)]),Object(o["f"])("div",null,[G,Object(o["g"])(" :"+Object(o["r"])(e.postToView.body),1)])]),Object(o["f"])("div",J,[Object(o["f"])("button",{onClick:t[0]||(t[0]=t=>e.$store.dispatch("setViewMode","view"))},"Edit")])])}var Q={name:"Detail",computed:{...Object(c["b"])(["postToView"])}};const X=S()(Q,[["render",K]]);var Z=X;const ee={class:"posts-view"},te={key:0,class:"view-head"},se={class:"posts-contain edit-contain"},oe={class:"edit-bottom"};function ie(e,t,s,i,n,c){return Object(o["l"])(),Object(o["e"])("div",ee,[e.postToEdit?(Object(o["l"])(),Object(o["e"])("div",te,[Object(o["f"])("div",null,"post "+Object(o["r"])(e.postToEdit.id)+" Edit",1)])):Object(o["d"])("",!0),Object(o["f"])("div",se,[Object(o["v"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.postToEdit.title=t)},null,512),[[o["s"],e.postToEdit.title]]),Object(o["v"])(Object(o["f"])("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.postToEdit.body=t)},null,512),[[o["s"],e.postToEdit.body]])]),Object(o["f"])("div",oe,[Object(o["f"])("button",{onClick:t[2]||(t[2]=Object(o["w"])(t=>c.removePostFromState(e.postToEdit.id),["prevent"])),class:"remove"},"remove"),Object(o["f"])("button",{onClick:t[3]||(t[3]=t=>c.updatePost(e.postToEdit))},"save")])])}var ne={name:"Edit",methods:{async removePostFromState(e){this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&(this.$store.dispatch("setViewMode","view"),this.$store.dispatch("removePostFromState",e),this.$swal.fire("Deleted!","Your file has been deleted.","success"))})},updatePost(e){this.$store.dispatch("updatePost",e)}},computed:{...Object(c["b"])(["postToEdit"])}};const ce=S()(ne,[["render",ie]]);var re=ce,ae={name:"PostsView",components:{Index:q,Detail:Z,Edit:re},computed:{...Object(c["b"])(["viewMode"])}};const de=S()(ae,[["render",U]]);var le=de;const Oe={class:"navbar"},be=Object(o["f"])("div",{id:"navToggler",class:"nav-toggler"},[Object(o["f"])("div"),Object(o["f"])("div"),Object(o["f"])("div")],-1),pe=Object(o["f"])("div",{class:"logo"},"D-ENGAGE",-1),ue=[be,pe];function je(e,t){return Object(o["l"])(),Object(o["e"])("div",Oe,ue)}const fe={},ve=S()(fe,[["render",je]]);var he=ve,me={name:"App",components:{UserList:I,Navbar:he,PostsView:le,ClipLoader:r["a"]},data(){return{color:"#9c344c",size:"150px"}},computed:{...Object(c["b"])(["loading"])},mounted(){var e=document.getElementById("navToggler"),t=document.getElementById("userList");e.addEventListener("click",()=>{t.classList.toggle("list-mobile")})}};s("15b7");const Te=S()(me,[["render",n]]);var Se=Te,_e=s("bc3a"),Ee=s.n(_e);const we=Ee.a.create({withCredentials:!1,baseURL:"https://jsonplaceholder.typicode.com",headers:{Accept:"application/json","Content-Type":"application/json"},timeout:5e4});var ge={fetchUsersPosts(e){return we.get("/posts?userId="+e)},fetchSinglePosts(e){return we.get("/posts/"+e)},updatePost(e){return we.put("/posts/"+e)}},Pe=Object(c["a"])({state:{postsUsersList:[],postsSingleUserList:{name:"",posts:[]},postToView:{},postToEdit:{},loading:!1,viewMode:"view",userActiveId:0},mutations:{SET_USER_ACTIVE_ID(e,t){e.userActiveId=t},SET_USERS_LIST_POST(e,t){e.postsUsersList=t},SET_USER_POSTS(e,t){e.postsUsersList.find(t=>t.id===e.userActiveId).posts=t,e.postsUsersList.find(t=>t.id===e.userActiveId).fetched=!0},SET_POSTS_TO_SHOW(e,t){e.postsSingleUserList.posts=e.postsUsersList.find(e=>e.id===t).posts,e.postsSingleUserList.name=e.postsUsersList.find(e=>e.id===t).name},SET_POST_TO_SHOW(e,t){e.postToView=e.postsSingleUserList.posts.find(e=>e.id===t)},SET_POST_TO_SHOW_FROM_UPDATE(e,t){e.postToView=t},SET_POST_TO_EDIT(e,t){e.postToEdit=t},REMOVE_POST_FROM_STATE(e,t){var s=e.postsSingleUserList.posts.findIndex(e=>e.id===t);-1!==s&&e.postsSingleUserList.posts.splice(s,1)},SHOW_LOADER(e){e.loading=!0},Hide_LOADER(e){e.loading=!1},SET_VIEW_MODE(e,t){e.viewMode=t}},actions:{initialPostsUsersList({commit:e},t){var s=[];if(Array.isArray(t)&&t&&t.length>0)for(let i=0;i<t.length;i++){var o={id:"",posts:[],fetched:!1,name:""};o.id=t[i].id,o.name=t[i].name,s[i]=o}e("SET_USERS_LIST_POST",s)},async fetchUsersPosts({commit:e},t){if(e("SET_VIEW_MODE","view"),0==this.state.postsUsersList.find(e=>e.id===t).fetched){e("SHOW_LOADER"),e("SET_USER_ACTIVE_ID",t);const s=await ge.fetchUsersPosts(t);e("SET_USER_POSTS",s.data),e("SET_POSTS_TO_SHOW",t),setTimeout(()=>{e("Hide_LOADER")},500)}else e("SET_POSTS_TO_SHOW",t)},getPostToShow({commit:e},t){e("SET_POST_TO_SHOW",t)},setViewMode({commit:e},t){e("SET_VIEW_MODE",t)},removePostFromState({commit:e},t){e("REMOVE_POST_FROM_STATE",t)},async getEditPost({commit:e},t){e("SET_VIEW_MODE","edit"),e("SHOW_LOADER");const s=await ge.fetchSinglePosts(t);setTimeout(()=>{e("Hide_LOADER")},500),e("SET_POST_TO_EDIT",s.data)},async updatePost({commit:e},t){e("SHOW_LOADER");await ge.updatePost(t.id);setTimeout(()=>{e("Hide_LOADER")},500),e("SET_VIEW_MODE","detail"),e("SET_POST_TO_SHOW_FROM_UPDATE",t)}},modules:{}}),ye=s("f9d5"),Le=s.n(ye);s("4413");Object(o["b"])(Se).use(Pe).use(Le.a).mount("#app")},6364:function(e,t,s){"use strict";s("0160")},d99f:function(e,t,s){}});
//# sourceMappingURL=app.9dfaaea8.js.map